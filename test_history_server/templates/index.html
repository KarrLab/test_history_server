{% extends "base.html" %}

{% load static %}

{% block content %}
<h3>Test reports</h3>

<table cellpadding=0 cellspacing=0 id="repositories">
  <thead>
    <tr>
      <th>Name</th>
      <th>Source code</th>
      <th>Test results</th>
      <th>Status</th>
      <th>Last tested</th>
    </tr>
  </thead>
  <tbody>
  {% for repo in repositories %}
    {% with report=repo.reports.all.0 %}
    <tr>
      <td>{{ repo.name }}</td>
      <td><a href="https://github.com/{{ repo.owner }}/{{ repo.name }}">GitHub</a></td>
      <td><a href="{% get_static_prefix %}/repo/{{ repo.owner }}/{{ repo.name }}/html/index.html">Results</a></td>
      <td{% if report.status != "success" %} class="alert"{% endif %}>{{ report.status|capfirst }}</td>
      <td>{{ report.date }}</td>
    </tr>
    {% endwith %}
  {% endfor %}
  </tbody>
</table>
{% endblock %}
